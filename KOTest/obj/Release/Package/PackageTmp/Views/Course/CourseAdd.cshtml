@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>CourseAdd</title>
    <link rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://cdn.staticfile.org/jquery/2.1.1/jquery.min.js"></script>
    <script src="https://cdn.staticfile.org/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>

    <script src="~/Scripts/knockout-3.5.1.debug.js"></script>
    <script src="~/Scripts/knockout-3.5.1.js"></script>


    <link href="~/webuploader-0.1.5/Style.css" rel="stylesheet" />
    <link href="~/webuploader-0.1.5/webuploader.css" rel="stylesheet" />

    <script src="~/webuploader-0.1.5/webuploader.nolog.min.js"></script>
    <script src="~/Scripts/Upload.js"></script>
   
</head>
<body>
        <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>
            <div id="navbar" class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                     <li><a href="../../Login/Login">登录</a></li>
                    <li><a href="../../Index/Index">学生管理</a></li>
                    <li><a href="../../Course/Index">课程管理</a></li>
                    <li><a href="../../Class/Index">班级管理</a></li>
                    <li><a href="../../Sem/Index">学期管理</a></li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </nav>
    <form onsubmit="return false" method="get" style="margin-top:70px;">
        <div class="content-wrapper">
            <div class="page-header">
                <h3 class="page-title col-12" style="font-size: 1.2em">
                    <span class="page-title-icon bg-gradient-primary text-white mr-2">
                        <i class="mdi mdi-bank"></i>
                    </span>
                    课程信息管理>新增课程
                </h3>
            </div>

            <div class="form-horizontal" style="padding: 54px 9px 0px 198px">

                <div class="form-group">
                    <label class="col-sm-1 control-label">图片<label style="color: red;">*</label></label>
                    <div class="col-sm-9">
                         <div id="uploadArea" style="float:left">
                            <div style="display: flex;justify-content: center;float:right">
                                <div id="imagePicker">选择图片</div>
                                
                            </div>
                            <ul id="imagesList" style="float:left">
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="form-group" style="margin-top: 2%;">
                    <label class="col-sm-1 control-label">编号<label style="color: red;">*</label></label>
                    <div class="col-sm-9">
                        <input type="text" class="form-control" data-bind="value:CourseID" placeholder="不可重复">
                    </div>
                </div>
                <div class="form-group" style="margin-top: 2%;">
                    <label class="col-sm-1 control-label">名称<label style="color: red;">*</label></label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" data-bind="value:CourseName" placeholder="名称">
                    </div>
                    <label class="col-sm-1 control-label">全称<label style="color: red;">*</label></label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" data-bind="value:FullName" placeholder="全称">
                    </div>
                </div>
                <div class="form-group" style="margin-top: 2%;">
                    <label class="col-sm-1 control-label">首拼<label style="color: red;">*</label></label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" data-bind="value:FullNameFrist" placeholder="首拼">
                    </div>
                    <label class="col-sm-1 control-label">全拼<label style="color: red;">*</label></label>
                    <div class="col-sm-4">
                        <input type="text" class="form-control" data-bind="value:FullNamepy" placeholder="全拼">
                    </div>
                </div>
                <div class="form-group" style="margin-top: 2%;">
                    <label class="col-sm-1 control-label">类型<label style="color: red;">*</label></label>
                    <div class="col-sm-4">
                        <select class="form-control" data-bind="value:Type">
                            <option value="">请选择</option>
                            <option value="学科课程">学科课程</option>
                            <option value="经验课程">经验课程</option>
                        </select>
                    </div>
                    <label class="col-sm-1 control-label">系部</label>
                    <div class="col-sm-4">
                        <select class="form-control" data-bind="value:Department">
                            <option value="">请选择</option>
                            <option value="中文系">中文系</option>
                            <option value="体育部">体育部</option>
                        </select>
                    </div>
                </div>

                <div class="form-group" style="margin-top: 2%;">
                    <label class="col-sm-1 control-label">简介</label>
                    <div class="col-sm-9">
                        <textarea class="form-control" rows="5" data-bind="value:Introduction"></textarea>
                    </div>
                </div>

                <div class="form-group" style="float: right; margin-right: 18%;">
                    <div class="col-sm-offset-2 col-sm-12">
                        <button type="button" class="btn btn-info" data-bind="click:Add">添加</button>
                        <button type="button" class="btn btn-info" data-bind="click:Add">保存并继续</button>
                        <button type="button" class="btn btn-default" data-bind="click:Back">取消</button>
                    </div>
                </div>
            </div>

            <div>
            </div>
        </div>
    </form>

    <script type="text/javascript">

        var viewModel = {
            CourseID: ko.observable(""),
            CourseName: ko.observable(""),
            FullName: ko.observable(""),
            FullNameFrist: ko.observable(""),
            FullNamepy: ko.observable(""),
            Department: ko.observable(""),
            Introduction: ko.observable(""),
            Type: ko.observable(""),
            Add: function () {
                $.get('@Url.Action("IndexAddSave", "Course")', { CourseID: viewModel.CourseID, CourseName: viewModel.CourseName, FullName: viewModel.FullName, FullNameFrist: viewModel.FullNameFrist, FullNamepy: viewModel.FullNamepy, Department: viewModel.Department, Introduction: viewModel.Introduction, Type: viewModel.Type },
             function (data) {
                 if (data == "添加成功") {
                     alert(data);
                     window.location.href = '../../Course/Index';
                 }
                 else {
                     alert(data);
                 }
             });
            },
            Back: function () {
                window.location.href = '../../Course/Index';
            }
        };
        ko.applyBindings(viewModel);


    </script>
</body>
</html>
